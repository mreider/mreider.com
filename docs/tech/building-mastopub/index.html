<!doctype html><html lang=en><head><meta charset=UTF-8><title>Building Mastopub: Auto-Posting to Mastodon - MR</title><meta name=description content="Matthew Reider's personal website"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:image" content="https://mreider.com/images/matt/mastopub.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://mreider.com/images/matt/mastopub.png"><meta property="og:site_name" content="MR"><link rel=icon type=image/svg+xml href=/images/favicon.svg><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel="shortcut icon" href=/images/favicon.ico><link rel=me href=https://github.com/mreider><link rel=stylesheet href=/css/custom.css></head><body><div class="container-lg mt-5"><header class=masthead><h3 class=masthead-title><a href=/ title=Home>MR</a></h3></header><nav class=top-nav><span class=nav-item><a href=/>Home</a></span>
<span class=nav-item><a href=/life/>Life</a></span>
<span class=nav-item><a href=/tech/ class=active>Tech</a></span>
<span class=nav-item><a href=/writeups/>Writeups</a></span>
<span class=nav-item><a href=/family/>Family</a></span>
<span class=nav-item><a href=/about/>About</a></span></nav><main><article><header class=post-header><img src=/images/matt/mastopub.png class="img-fluid mb-3 rounded" style=max-width:300px alt="Building Mastopub: Auto-Posting to Mastodon"><h1>Building Mastopub: Auto-Posting to Mastodon</h1><div class=post-meta><time>January 17, 2025</time>
¬∑ by <a href=/authors/matt-reider/>Matt Reider</a></div></header><div class=post-content><p>I&rsquo;m excited about the <a href=https://pjvogt.substack.com/p/the-fediverse-experiment>Forkiverse experiment</a>.</p><p>If you haven&rsquo;t heard, the folks behind Hard Fork and Search Engine (<a href=https://theforkiverse.com/@kevin>@kevin@theforkiverse.com</a>, <a href=https://theforkiverse.com/@Casey>@Casey@theforkiverse.com</a>, and <a href=https://theforkiverse.com/@pj>@pj@theforkiverse.com</a>) have launched their own Mastodon instance. The current internet is arguably the worst it&rsquo;s ever been, so instead of just complaining about it, they&rsquo;re building a small alternative. A bot-free mini-world.</p><p>It&rsquo;s not theoretical. These are tech journalists who&rsquo;ve spent years covering social media, and now they&rsquo;re actually trying the decentralized alternative themselves.</p><p>It got me thinking. I have a Mastodon account, and I want to post there more often. But I also like writing on my blog. Now I can do both at the same time. We should all be contributing to the fediverse rather than algorithmic social networks. These platforms are arguably hurting our mental health, not to mention whatever progress we made towards the ideal of democracy, by encouraging content that makes us angry at one another, all for clicks.</p><p>I actually invested a ton of time during COVID building a social network like the fediverse called Peacenik (yes, idealistic name, I know). You can see me <a href="https://www.youtube.com/watch?v=9fo8JNKIoJo&amp;t=4s">promote this now-failed project here</a>. That didn&rsquo;t work out.</p><p>Today I built <a href=https://github.com/mreider/mastopub>Mastopub</a>, a GitHub Action that automatically publishes my blog entries to Mastodon.</p><p>Add <code>mastodon: true</code> to a post&rsquo;s frontmatter, push to GitHub, and Mastopub handles the rest.</p><h3 id=how-it-works>How It Works</h3><p>This blog runs on <a href=https://gohugo.io/>Hugo</a>, a static site generator. Each post is a Markdown file with YAML frontmatter at the top, where you set the title, date, author, and other metadata. I added two new fields:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>mastodon</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>mastodon_thread</span>: <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><p><img src=/images/matt/frontmatter.png alt="frontmatter example"></p><p>When I push changes to GitHub, a workflow runs that scans for posts with <code>mastodon: true</code>. If it finds one that hasn&rsquo;t been posted yet, it publishes it to my Mastodon account.</p><p>The <code>mastodon_thread</code> option breaks the entire article into a thread, chunking the text into 480-character toots. Images get uploaded too. It&rsquo;s like live-tweeting your own blog post, except automated.</p><p>A JSON file keeps track of what&rsquo;s already been posted, so you don&rsquo;t accidentally spam your followers with the same article every time you fix a typo.</p><h3 id=proof-it-works>Proof It Works</h3><p>My <a href=/life/lost-and-found/>Lost and Found</a> story about Max&rsquo;s gym bag on the Vienna streetcar was one of the first posts to use Mastopub. You can see it on Mastodon <a href=https://ieji.de/@mateo/115910965322919799>here</a>.</p><p>If you&rsquo;re reading this on Mastodon right now, you&rsquo;re looking at more proof. This post was auto-published the same way. I wrote it, added the frontmatter flags, pushed to GitHub, and Mastopub did the rest.</p><h3 id=why-bother>Why Bother?</h3><p>I could just copy and paste. But I&rsquo;m lazy in that programmer way where I&rsquo;ll spend a weekend automating something to save five minutes.</p><p>This whole approach of publishing on your own site and syndicating elsewhere has a name: the <a href=https://indieweb.org/>IndieWeb</a>. It&rsquo;s different from the fediverse, but they share a spirit. The IndieWeb is a throwback to when everyone had their own little website. My site is part of the <a href=https://indieweb.org/webring>IndieWeb webring</a>, which is why you see those links at the bottom of the page. It&rsquo;d be great if the Forkiverse crew talked about that.</p><p>They did talk about the throwback part when they discussed their vibe-coded homepages. Check out <a href=https://kevinroose.com/>kevinroose.com</a> and <a href=https://cnewton.org/>cnewton.org</a>. Casey&rsquo;s has way more character than Kevin&rsquo;s, which is sort of how I feel about them as people. No offense to Kevin, though that would be hard not to take offense to. ü§°</p><p>If you run a Hugo blog (or Jekyll, or any static site), try it out. Instructions are in the <a href=https://github.com/mreider/mastopub>GitHub repo</a>.</p></div><nav class=post-nav><div><a href=https://mreider.com/tech/trade-off-as-strategy/>‚Üê Great Strategy Starts with Sacrifice</a></div><div><a href=https://mreider.com/tech/ai-hype/>Why AI won't take control ‚Üí</a></div></nav></article></main><footer class="site-footer text-center"><p class=webring><a href=https://xn--sr8hvo.ws/previous rel=nofollow>‚Üê</a>
An <a href=https://xn--sr8hvo.ws/>IndieWeb Webring</a> üï∏üíç
<a href=https://xn--sr8hvo.ws/next rel=nofollow>‚Üí</a></p><p>Made with <a href=https://gohugo.io>Hugo</a></p></footer></div></body></html>